import{S as Ce,i as Ae,s as Me,n as mt,d as M,J as Et,e as Se,G as v,f as Q,h as x,H as Mt,j as I,k as F,l as $,m as it,K as Nt,o as L,p as tt,q as lt,L as Tt,x as Rt,M as or,N as yt,O as St,P as nt,Q as et,R as Ur,T as jt,U as Zt,V as $t,C as $e,t as gt,a as st,v as Ee,w as Ne,E as tn,F as en,D as nn,z as zr}from"../chunks/DbrZ0jLZ.js";import"../chunks/IHki7fMi.js";function rt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const qr=!0,Ns=Object.freeze(Object.defineProperty({__proto__:null,prerender:qr},Symbol.toStringTag,{value:"Module"}));function ut(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ar(t){let e,n,r;t.length!==2?(e=ut,n=(a,s)=>ut(t(a),s),r=(a,s)=>t(a)-s):(e=t===ut||t===Ye?t:Gr,n=t,r=t);function i(a,s,u=0,c=a.length){if(u<c){if(e(s,s)!==0)return c;do{const f=u+c>>>1;n(a[f],s)<0?u=f+1:c=f}while(u<c)}return u}function l(a,s,u=0,c=a.length){if(u<c){if(e(s,s)!==0)return c;do{const f=u+c>>>1;n(a[f],s)<=0?u=f+1:c=f}while(u<c)}return u}function o(a,s,u=0,c=a.length){const f=i(a,s,u,c-1);return f>u&&r(a[f-1],s)>-r(a[f],s)?f-1:f}return{left:i,center:o,right:l}}function Gr(){return 0}function Xr(t){return t===null?NaN:+t}const Wr=ar(ut),Zr=Wr.right;ar(Xr).center;function Kr(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Qr extends Map{constructor(e,n=$r){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_n(this,e))}has(e){return super.has(_n(this,e))}set(e,n){return super.set(Jr(this,e),n)}delete(e){return super.delete(jr(this,e))}}function _n({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jr({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $r(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sr(t){return t}function mn(t,...e){return ur(t,Array.from,sr,e)}function Ie(t,e,...n){return ur(t,sr,e,n)}function ur(t,e,n,r){return function i(l,o){if(o>=r.length)return n(l);const a=new Qr,s=r[o++];let u=-1;for(const c of l){const f=s(c,++u,l),h=a.get(f);h?h.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,o));return e(a)}(t,0)}const ti=Math.sqrt(50),ei=Math.sqrt(10),ni=Math.sqrt(2);function _e(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),o=l>=ti?10:l>=ei?5:l>=ni?2:1;let a,s,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),s=Math.round(e*u),a/u<t&&++a,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),s=Math.round(e/u),a*u<t&&++a,s*u>e&&--s),s<a&&.5<=n&&n<2?_e(t,e,n*2):[a,s,u]}function ri(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,l,o]=r?_e(e,t,n):_e(t,e,n);if(!(l>=i))return[];const a=l-i+1,s=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)s[u]=(l-u)/-o;else for(let u=0;u<a;++u)s[u]=(l-u)*o;else if(o<0)for(let u=0;u<a;++u)s[u]=(i+u)/-o;else for(let u=0;u<a;++u)s[u]=(i+u)*o;return s}function Ue(t,e,n){return e=+e,t=+t,n=+n,_e(t,e,n)[2]}function ii(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ue(e,t,n):Ue(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Gt(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}var li={value:()=>{}};function fr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ce(n)}function ce(t){this._=t}function oi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ce.prototype=fr.prototype={constructor:ce,on:function(t,e){var n=this._,r=oi(t+"",n),i,l=-1,o=r.length;if(arguments.length<2){for(;++l<o;)if((i=(t=r[l]).type)&&(i=ai(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<o;)if(i=(t=r[l]).type)n[i]=gn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=gn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ce(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,l;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],r=0,i=l.length;r<i;++r)l[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,l=r.length;i<l;++i)r[i].value.apply(e,n)}};function ai(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function gn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=li,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ze="http://www.w3.org/1999/xhtml";const pn={svg:"http://www.w3.org/2000/svg",xhtml:ze,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Te(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),pn.hasOwnProperty(e)?{space:pn[e],local:t}:t}function si(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ze&&e.documentElement.namespaceURI===ze?e.createElement(t):e.createElementNS(n,t)}}function ui(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function cr(t){var e=Te(t);return(e.local?ui:si)(e)}function fi(){}function rn(t){return t==null?fi:function(){return this.querySelector(t)}}function ci(t){typeof t!="function"&&(t=rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var l=e[i],o=l.length,a=r[i]=new Array(o),s,u,c=0;c<o;++c)(s=l[c])&&(u=t.call(s,s.__data__,c,l))&&("__data__"in s&&(u.__data__=s.__data__),a[c]=u);return new pt(r,this._parents)}function hi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function di(){return[]}function hr(t){return t==null?di:function(){return this.querySelectorAll(t)}}function _i(t){return function(){return hi(t.apply(this,arguments))}}function mi(t){typeof t=="function"?t=_i(t):t=hr(t);for(var e=this._groups,n=e.length,r=[],i=[],l=0;l<n;++l)for(var o=e[l],a=o.length,s,u=0;u<a;++u)(s=o[u])&&(r.push(t.call(s,s.__data__,u,o)),i.push(s));return new pt(r,i)}function dr(t){return function(){return this.matches(t)}}function _r(t){return function(e){return e.matches(t)}}var gi=Array.prototype.find;function pi(t){return function(){return gi.call(this.children,t)}}function vi(){return this.firstElementChild}function yi(t){return this.select(t==null?vi:pi(typeof t=="function"?t:_r(t)))}var wi=Array.prototype.filter;function bi(){return Array.from(this.children)}function xi(t){return function(){return wi.call(this.children,t)}}function ki(t){return this.selectAll(t==null?bi:xi(typeof t=="function"?t:_r(t)))}function Ci(t){typeof t!="function"&&(t=dr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var l=e[i],o=l.length,a=r[i]=[],s,u=0;u<o;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&a.push(s);return new pt(r,this._parents)}function mr(t){return new Array(t.length)}function Ai(){return new pt(this._enter||this._groups.map(mr),this._parents)}function me(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}me.prototype={constructor:me,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Mi(t){return function(){return t}}function Si(t,e,n,r,i,l){for(var o=0,a,s=e.length,u=l.length;o<u;++o)(a=e[o])?(a.__data__=l[o],r[o]=a):n[o]=new me(t,l[o]);for(;o<s;++o)(a=e[o])&&(i[o]=a)}function Ei(t,e,n,r,i,l,o){var a,s,u=new Map,c=e.length,f=l.length,h=new Array(c),d;for(a=0;a<c;++a)(s=e[a])&&(h[a]=d=o.call(s,s.__data__,a,e)+"",u.has(d)?i[a]=s:u.set(d,s));for(a=0;a<f;++a)d=o.call(t,l[a],a,l)+"",(s=u.get(d))?(r[a]=s,s.__data__=l[a],u.delete(d)):n[a]=new me(t,l[a]);for(a=0;a<c;++a)(s=e[a])&&u.get(h[a])===s&&(i[a]=s)}function Ni(t){return t.__data__}function Ti(t,e){if(!arguments.length)return Array.from(this,Ni);var n=e?Ei:Si,r=this._parents,i=this._groups;typeof t!="function"&&(t=Mi(t));for(var l=i.length,o=new Array(l),a=new Array(l),s=new Array(l),u=0;u<l;++u){var c=r[u],f=i[u],h=f.length,d=Ri(t.call(c,c&&c.__data__,u,r)),y=d.length,_=a[u]=new Array(y),g=o[u]=new Array(y),m=s[u]=new Array(h);n(c,f,_,g,m,d,e);for(var p=0,b=0,C,S;p<y;++p)if(C=_[p]){for(p>=b&&(b=p+1);!(S=g[b])&&++b<y;);C._next=S||null}}return o=new pt(o,r),o._enter=a,o._exit=s,o}function Ri(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pi(){return new pt(this._exit||this._groups.map(mr),this._parents)}function Ii(t,e,n){var r=this.enter(),i=this,l=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?l.remove():n(l),r&&i?r.merge(i).order():i}function Li(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,l=r.length,o=Math.min(i,l),a=new Array(i),s=0;s<o;++s)for(var u=n[s],c=r[s],f=u.length,h=a[s]=new Array(f),d,y=0;y<f;++y)(d=u[y]||c[y])&&(h[y]=d);for(;s<i;++s)a[s]=n[s];return new pt(a,this._parents)}function Fi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,l=r[i],o;--i>=0;)(o=r[i])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function Di(t){t||(t=Hi);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),l=0;l<r;++l){for(var o=n[l],a=o.length,s=i[l]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(s[c]=u);s.sort(e)}return new pt(i,this._parents).order()}function Hi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Oi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Vi(){return Array.from(this)}function Bi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,l=r.length;i<l;++i){var o=r[i];if(o)return o}return null}function Yi(){let t=0;for(const e of this)++t;return t}function Ui(){return!this.node()}function zi(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],l=0,o=i.length,a;l<o;++l)(a=i[l])&&t.call(a,a.__data__,l,i);return this}function qi(t){return function(){this.removeAttribute(t)}}function Gi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xi(t,e){return function(){this.setAttribute(t,e)}}function Wi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Zi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ki(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Qi(t,e){var n=Te(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Gi:qi:typeof e=="function"?n.local?Ki:Zi:n.local?Wi:Xi)(n,e))}function gr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ji(t){return function(){this.style.removeProperty(t)}}function ji(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $i(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function tl(t,e,n){return arguments.length>1?this.each((e==null?Ji:typeof e=="function"?$i:ji)(t,e,n??"")):Ut(this.node(),t)}function Ut(t,e){return t.style.getPropertyValue(e)||gr(t).getComputedStyle(t,null).getPropertyValue(e)}function el(t){return function(){delete this[t]}}function nl(t,e){return function(){this[t]=e}}function rl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function il(t,e){return arguments.length>1?this.each((e==null?el:typeof e=="function"?rl:nl)(t,e)):this.node()[t]}function pr(t){return t.trim().split(/^|\s+/)}function ln(t){return t.classList||new vr(t)}function vr(t){this._node=t,this._names=pr(t.getAttribute("class")||"")}vr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function yr(t,e){for(var n=ln(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wr(t,e){for(var n=ln(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ll(t){return function(){yr(this,t)}}function ol(t){return function(){wr(this,t)}}function al(t,e){return function(){(e.apply(this,arguments)?yr:wr)(this,t)}}function sl(t,e){var n=pr(t+"");if(arguments.length<2){for(var r=ln(this.node()),i=-1,l=n.length;++i<l;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?al:e?ll:ol)(n,e))}function ul(){this.textContent=""}function fl(t){return function(){this.textContent=t}}function cl(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hl(t){return arguments.length?this.each(t==null?ul:(typeof t=="function"?cl:fl)(t)):this.node().textContent}function dl(){this.innerHTML=""}function _l(t){return function(){this.innerHTML=t}}function ml(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function gl(t){return arguments.length?this.each(t==null?dl:(typeof t=="function"?ml:_l)(t)):this.node().innerHTML}function pl(){this.nextSibling&&this.parentNode.appendChild(this)}function vl(){return this.each(pl)}function yl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wl(){return this.each(yl)}function bl(t){var e=typeof t=="function"?t:cr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xl(){return null}function kl(t,e){var n=typeof t=="function"?t:cr(t),r=e==null?xl:typeof e=="function"?e:rn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Cl(){var t=this.parentNode;t&&t.removeChild(this)}function Al(){return this.each(Cl)}function Ml(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function El(t){return this.select(t?Sl:Ml)}function Nl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Tl(t){return function(e){t.call(this,e,this.__data__)}}function Rl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Pl(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,l;n<i;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++r]=l;++r?e.length=r:delete this.__on}}}function Il(t,e,n){return function(){var r=this.__on,i,l=Tl(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=e;return}}this.addEventListener(t.type,l,n),i={type:t.type,name:t.name,value:e,listener:l,options:n},r?r.push(i):this.__on=[i]}}function Ll(t,e,n){var r=Rl(t+""),i,l=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,u=a.length,c;s<u;++s)for(i=0,c=a[s];i<l;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?Il:Pl,i=0;i<l;++i)this.each(a(r[i],e,n));return this}function br(t,e,n){var r=gr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Fl(t,e){return function(){return br(this,t,e)}}function Dl(t,e){return function(){return br(this,t,e.apply(this,arguments))}}function Hl(t,e){return this.each((typeof e=="function"?Dl:Fl)(t,e))}function*Ol(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,l=r.length,o;i<l;++i)(o=r[i])&&(yield o)}var Vl=[null];function pt(t,e){this._groups=t,this._parents=e}function re(){return new pt([[document.documentElement]],Vl)}function Bl(){return this}pt.prototype=re.prototype={constructor:pt,select:ci,selectAll:mi,selectChild:yi,selectChildren:ki,filter:Ci,data:Ti,enter:Ai,exit:Pi,join:Ii,merge:Li,selection:Bl,order:Fi,sort:Di,call:Oi,nodes:Vi,node:Bi,size:Yi,empty:Ui,each:zi,attr:Qi,style:tl,property:il,classed:sl,text:hl,html:gl,raise:vl,lower:wl,append:bl,insert:kl,remove:Al,clone:El,datum:Nl,on:Ll,dispatch:Hl,[Symbol.iterator]:Ol};function on(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ie(){}var te=.7,ge=1/te,Yt="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yl=/^#([0-9a-f]{3,8})$/,Ul=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),zl=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),ql=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${ee}\\)$`),Gl=new RegExp(`^rgba\\(${wt},${wt},${wt},${ee}\\)$`),Xl=new RegExp(`^hsl\\(${ee},${wt},${wt}\\)$`),Wl=new RegExp(`^hsla\\(${ee},${wt},${wt},${ee}\\)$`),vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};on(ie,Dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yn,formatHex:yn,formatHex8:Zl,formatHsl:Kl,formatRgb:wn,toString:wn});function yn(){return this.rgb().formatHex()}function Zl(){return this.rgb().formatHex8()}function Kl(){return kr(this).formatHsl()}function wn(){return this.rgb().formatRgb()}function Dt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Yl.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bn(e):n===3?new at(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ul.exec(t))?new at(e[1],e[2],e[3],1):(e=zl.exec(t))?new at(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ql.exec(t))?oe(e[1],e[2],e[3],e[4]):(e=Gl.exec(t))?oe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xl.exec(t))?Cn(e[1],e[2]/100,e[3]/100,1):(e=Wl.exec(t))?Cn(e[1],e[2]/100,e[3]/100,e[4]):vn.hasOwnProperty(t)?bn(vn[t]):t==="transparent"?new at(NaN,NaN,NaN,0):null}function bn(t){return new at(t>>16&255,t>>8&255,t&255,1)}function oe(t,e,n,r){return r<=0&&(t=e=n=NaN),new at(t,e,n,r)}function Ql(t){return t instanceof ie||(t=Dt(t)),t?(t=t.rgb(),new at(t.r,t.g,t.b,t.opacity)):new at}function qe(t,e,n,r){return arguments.length===1?Ql(t):new at(t,e,n,r??1)}function at(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}on(at,qe,xr(ie,{brighter(t){return t=t==null?ge:Math.pow(ge,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new at(Ft(this.r),Ft(this.g),Ft(this.b),pe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatHex8:Jl,formatRgb:kn,toString:kn}));function xn(){return`#${Lt(this.r)}${Lt(this.g)}${Lt(this.b)}`}function Jl(){return`#${Lt(this.r)}${Lt(this.g)}${Lt(this.b)}${Lt((isNaN(this.opacity)?1:this.opacity)*255)}`}function kn(){const t=pe(this.opacity);return`${t===1?"rgb(":"rgba("}${Ft(this.r)}, ${Ft(this.g)}, ${Ft(this.b)}${t===1?")":`, ${t})`}`}function pe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ft(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lt(t){return t=Ft(t),(t<16?"0":"")+t.toString(16)}function Cn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _t(t,e,n,r)}function kr(t){if(t instanceof _t)return new _t(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=Dt(t)),!t)return new _t;if(t instanceof _t)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),l=Math.max(e,n,r),o=NaN,a=l-i,s=(l+i)/2;return a?(e===l?o=(n-r)/a+(n<r)*6:n===l?o=(r-e)/a+2:o=(e-n)/a+4,a/=s<.5?l+i:2-l-i,o*=60):a=s>0&&s<1?0:o,new _t(o,a,s,t.opacity)}function jl(t,e,n,r){return arguments.length===1?kr(t):new _t(t,e,n,r??1)}function _t(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}on(_t,jl,xr(ie,{brighter(t){return t=t==null?ge:Math.pow(ge,t),new _t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new _t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new at(Le(t>=240?t-240:t+120,i,r),Le(t,i,r),Le(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _t(An(this.h),ae(this.s),ae(this.l),pe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pe(this.opacity);return`${t===1?"hsl(":"hsla("}${An(this.h)}, ${ae(this.s)*100}%, ${ae(this.l)*100}%${t===1?")":`, ${t})`}`}}));function An(t){return t=(t||0)%360,t<0?t+360:t}function ae(t){return Math.max(0,Math.min(1,t||0))}function Le(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const an=t=>()=>t;function $l(t,e){return function(n){return t+n*e}}function to(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function eo(t){return(t=+t)==1?Cr:function(e,n){return n-e?to(e,n,t):an(isNaN(e)?n:e)}}function Cr(t,e){var n=e-t;return n?$l(t,n):an(isNaN(t)?e:t)}const ve=function t(e){var n=eo(e);function r(i,l){var o=n((i=qe(i)).r,(l=qe(l)).r),a=n(i.g,l.g),s=n(i.b,l.b),u=Cr(i.opacity,l.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function no(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=t[i]*(1-l)+e[i]*l;return r}}function ro(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function io(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),l=new Array(n),o;for(o=0;o<r;++o)i[o]=sn(t[o],e[o]);for(;o<n;++o)l[o]=e[o];return function(a){for(o=0;o<r;++o)l[o]=i[o](a);return l}}function lo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function dt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function oo(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sn(t[i],e[i]):r[i]=e[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var Ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fe=new RegExp(Ge.source,"g");function ao(t){return function(){return t}}function so(t){return function(e){return t(e)+""}}function Ar(t,e){var n=Ge.lastIndex=Fe.lastIndex=0,r,i,l,o=-1,a=[],s=[];for(t=t+"",e=e+"";(r=Ge.exec(t))&&(i=Fe.exec(e));)(l=i.index)>n&&(l=e.slice(n,l),a[o]?a[o]+=l:a[++o]=l),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,s.push({i:o,x:dt(r,i)})),n=Fe.lastIndex;return n<e.length&&(l=e.slice(n),a[o]?a[o]+=l:a[++o]=l),a.length<2?s[0]?so(s[0].x):ao(e):(e=s.length,function(u){for(var c=0,f;c<e;++c)a[(f=s[c]).i]=f.x(u);return a.join("")})}function sn(t,e){var n=typeof e,r;return e==null||n==="boolean"?an(e):(n==="number"?dt:n==="string"?(r=Dt(e))?(e=r,ve):Ar:e instanceof Dt?ve:e instanceof Date?lo:ro(e)?no:Array.isArray(e)?io:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oo:dt)(t,e)}function uo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Mn=180/Math.PI,Xe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mr(t,e,n,r,i,l){var o,a,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,s/=a),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:i,translateY:l,rotate:Math.atan2(e,t)*Mn,skewX:Math.atan(s)*Mn,scaleX:o,scaleY:a}}var se;function fo(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xe:Mr(e.a,e.b,e.c,e.d,e.e,e.f)}function co(t){return t==null||(se||(se=document.createElementNS("http://www.w3.org/2000/svg","g")),se.setAttribute("transform",t),!(t=se.transform.baseVal.consolidate()))?Xe:(t=t.matrix,Mr(t.a,t.b,t.c,t.d,t.e,t.f))}function Sr(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function l(u,c,f,h,d,y){if(u!==f||c!==h){var _=d.push("translate(",null,e,null,n);y.push({i:_-4,x:dt(u,f)},{i:_-2,x:dt(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function o(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:dt(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:dt(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function s(u,c,f,h,d,y){if(u!==f||c!==h){var _=d.push(i(d)+"scale(",null,",",null,")");y.push({i:_-4,x:dt(u,f)},{i:_-2,x:dt(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),l(u.translateX,u.translateY,c.translateX,c.translateY,f,h),o(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var y=-1,_=h.length,g;++y<_;)f[(g=h[y]).i]=g.x(d);return f.join("")}}}var ho=Sr(fo,"px, ","px)","deg)"),_o=Sr(co,", ",")",")"),zt=0,Kt=0,Xt=0,Er=1e3,ye,Qt,we=0,Ht=0,Re=0,ne=typeof performance=="object"&&performance.now?performance:Date,Nr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function un(){return Ht||(Nr(mo),Ht=ne.now()+Re)}function mo(){Ht=0}function be(){this._call=this._time=this._next=null}be.prototype=Tr.prototype={constructor:be,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?un():+n)+(e==null?0:+e),!this._next&&Qt!==this&&(Qt?Qt._next=this:ye=this,Qt=this),this._call=t,this._time=n,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};function Tr(t,e,n){var r=new be;return r.restart(t,e,n),r}function go(){un(),++zt;for(var t=ye,e;t;)(e=Ht-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zt}function Sn(){Ht=(we=ne.now())+Re,zt=Kt=0;try{go()}finally{zt=0,vo(),Ht=0}}function po(){var t=ne.now(),e=t-we;e>Er&&(Re-=e,we=t)}function vo(){for(var t,e=ye,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ye=n);Qt=t,We(r)}function We(t){if(!zt){Kt&&(Kt=clearTimeout(Kt));var e=t-Ht;e>24?(t<1/0&&(Kt=setTimeout(Sn,t-ne.now()-Re)),Xt&&(Xt=clearInterval(Xt))):(Xt||(we=ne.now(),Xt=setInterval(po,Er)),zt=1,Nr(Sn))}}function En(t,e,n){var r=new be;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var yo=fr("start","end","cancel","interrupt"),wo=[],Rr=0,Nn=1,Ze=2,he=3,Tn=4,Ke=5,de=6;function Pe(t,e,n,r,i,l){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;bo(t,n,{name:e,index:r,group:i,on:yo,tween:wo,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Rr})}function fn(t,e){var n=vt(t,e);if(n.state>Rr)throw new Error("too late; already scheduled");return n}function bt(t,e){var n=vt(t,e);if(n.state>he)throw new Error("too late; already running");return n}function vt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Tr(l,0,n.time);function l(u){n.state=Nn,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,h,d;if(n.state!==Nn)return s();for(c in r)if(d=r[c],d.name===n.name){if(d.state===he)return En(o);d.state===Tn?(d.state=de,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=de,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(En(function(){n.state===he&&(n.state=Tn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ze,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ze){for(n.state=he,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Ke,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===Ke&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=de,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function xo(t,e){var n=t.__transition,r,i,l=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){l=!1;continue}i=r.state>Ze&&r.state<Ke,r.state=de,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}l&&delete t.__transition}}function ko(t){return this.each(function(){xo(this,t)})}function Co(t,e){var n,r;return function(){var i=bt(this,t),l=i.tween;if(l!==n){r=n=l;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ao(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var l=bt(this,t),o=l.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=a;break}s===u&&i.push(a)}l.tween=i}}function Mo(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=vt(this.node(),n).tween,i=0,l=r.length,o;i<l;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Co:Ao)(n,t,e))}function cn(t,e,n){var r=t._id;return t.each(function(){var i=bt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return vt(i,r).value[e]}}function Pr(t,e){var n;return(typeof e=="number"?dt:e instanceof Dt?ve:(n=Dt(e))?(e=n,ve):Ar)(t,e)}function So(t){return function(){this.removeAttribute(t)}}function Eo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function No(t,e,n){var r,i=n+"",l;return function(){var o=this.getAttribute(t);return o===i?null:o===r?l:l=e(r=o,n)}}function To(t,e,n){var r,i=n+"",l;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?l:l=e(r=o,n)}}function Ro(t,e,n){var r,i,l;return function(){var o,a=n(this),s;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),s=a+"",o===s?null:o===r&&s===i?l:(i=s,l=e(r=o,a)))}}function Po(t,e,n){var r,i,l;return function(){var o,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),s=a+"",o===s?null:o===r&&s===i?l:(i=s,l=e(r=o,a)))}}function Io(t,e){var n=Te(t),r=n==="transform"?_o:Pr;return this.attrTween(t,typeof e=="function"?(n.local?Po:Ro)(n,r,cn(this,"attr."+t,e)):e==null?(n.local?Eo:So)(n):(n.local?To:No)(n,r,e))}function Lo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Fo(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Do(t,e){var n,r;function i(){var l=e.apply(this,arguments);return l!==r&&(n=(r=l)&&Fo(t,l)),n}return i._value=e,i}function Ho(t,e){var n,r;function i(){var l=e.apply(this,arguments);return l!==r&&(n=(r=l)&&Lo(t,l)),n}return i._value=e,i}function Oo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Te(t);return this.tween(n,(r.local?Do:Ho)(r,e))}function Vo(t,e){return function(){fn(this,t).delay=+e.apply(this,arguments)}}function Bo(t,e){return e=+e,function(){fn(this,t).delay=e}}function Yo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vo:Bo)(e,t)):vt(this.node(),e).delay}function Uo(t,e){return function(){bt(this,t).duration=+e.apply(this,arguments)}}function zo(t,e){return e=+e,function(){bt(this,t).duration=e}}function qo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uo:zo)(e,t)):vt(this.node(),e).duration}function Go(t,e){if(typeof e!="function")throw new Error;return function(){bt(this,t).ease=e}}function Xo(t){var e=this._id;return arguments.length?this.each(Go(e,t)):vt(this.node(),e).ease}function Wo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,t).ease=n}}function Zo(t){if(typeof t!="function")throw new Error;return this.each(Wo(this._id,t))}function Ko(t){typeof t!="function"&&(t=dr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var l=e[i],o=l.length,a=r[i]=[],s,u=0;u<o;++u)(s=l[u])&&t.call(s,s.__data__,u,l)&&a.push(s);return new kt(r,this._parents,this._name,this._id)}function Qo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,l=Math.min(r,i),o=new Array(r),a=0;a<l;++a)for(var s=e[a],u=n[a],c=s.length,f=o[a]=new Array(c),h,d=0;d<c;++d)(h=s[d]||u[d])&&(f[d]=h);for(;a<r;++a)o[a]=e[a];return new kt(o,this._parents,this._name,this._id)}function Jo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jo(t,e,n){var r,i,l=Jo(e)?fn:bt;return function(){var o=l(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function $o(t,e){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(t):this.each(jo(n,t,e))}function ta(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ea(){return this.on("end.remove",ta(this._id))}function na(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rn(t));for(var r=this._groups,i=r.length,l=new Array(i),o=0;o<i;++o)for(var a=r[o],s=a.length,u=l[o]=new Array(s),c,f,h=0;h<s;++h)(c=a[h])&&(f=t.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,Pe(u[h],e,n,h,u,vt(c,n)));return new kt(l,this._parents,e,n)}function ra(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hr(t));for(var r=this._groups,i=r.length,l=[],o=[],a=0;a<i;++a)for(var s=r[a],u=s.length,c,f=0;f<u;++f)if(c=s[f]){for(var h=t.call(c,c.__data__,f,s),d,y=vt(c,n),_=0,g=h.length;_<g;++_)(d=h[_])&&Pe(d,e,n,_,h,y);l.push(h),o.push(c)}return new kt(l,o,e,n)}var ia=re.prototype.constructor;function la(){return new ia(this._groups,this._parents)}function oa(t,e){var n,r,i;return function(){var l=Ut(this,t),o=(this.style.removeProperty(t),Ut(this,t));return l===o?null:l===n&&o===r?i:i=e(n=l,r=o)}}function Ir(t){return function(){this.style.removeProperty(t)}}function aa(t,e,n){var r,i=n+"",l;return function(){var o=Ut(this,t);return o===i?null:o===r?l:l=e(r=o,n)}}function sa(t,e,n){var r,i,l;return function(){var o=Ut(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),Ut(this,t))),o===s?null:o===r&&s===i?l:(i=s,l=e(r=o,a))}}function ua(t,e){var n,r,i,l="style."+e,o="end."+l,a;return function(){var s=bt(this,t),u=s.on,c=s.value[l]==null?a||(a=Ir(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),s.on=r}}function fa(t,e,n){var r=(t+="")=="transform"?ho:Pr;return e==null?this.styleTween(t,oa(t,r)).on("end.style."+t,Ir(t)):typeof e=="function"?this.styleTween(t,sa(t,r,cn(this,"style."+t,e))).each(ua(this._id,t)):this.styleTween(t,aa(t,r,e),n).on("end.style."+t,null)}function ca(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ha(t,e,n){var r,i;function l(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ca(t,o,n)),r}return l._value=e,l}function da(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ha(t,e,n??""))}function _a(t){return function(){this.textContent=t}}function ma(t){return function(){var e=t(this);this.textContent=e??""}}function ga(t){return this.tween("text",typeof t=="function"?ma(cn(this,"text",t)):_a(t==null?"":t+""))}function pa(t){return function(e){this.textContent=t.call(this,e)}}function va(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&pa(i)),e}return r._value=t,r}function ya(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,va(t))}function wa(){for(var t=this._name,e=this._id,n=Lr(),r=this._groups,i=r.length,l=0;l<i;++l)for(var o=r[l],a=o.length,s,u=0;u<a;++u)if(s=o[u]){var c=vt(s,e);Pe(s,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new kt(r,this._parents,t,n)}function ba(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(l,o){var a={value:o},s={value:function(){--i===0&&l()}};n.each(function(){var u=bt(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),u.on=e}),i===0&&l()})}var xa=0;function kt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Lr(){return++xa}var xt=re.prototype;kt.prototype={constructor:kt,select:na,selectAll:ra,selectChild:xt.selectChild,selectChildren:xt.selectChildren,filter:Ko,merge:Qo,selection:la,transition:wa,call:xt.call,nodes:xt.nodes,node:xt.node,size:xt.size,empty:xt.empty,each:xt.each,on:$o,attr:Io,attrTween:Oo,style:fa,styleTween:da,text:ga,textTween:ya,remove:ea,tween:Mo,delay:Yo,duration:qo,ease:Xo,easeVarying:Zo,end:ba,[Symbol.iterator]:xt[Symbol.iterator]};function ka(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ca={time:null,delay:0,duration:250,ease:ka};function Aa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ma(t){var e,n;t instanceof kt?(e=t._id,t=t._name):(e=Lr(),(n=Ca).time=un(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,l=0;l<i;++l)for(var o=r[l],a=o.length,s,u=0;u<a;++u)(s=o[u])&&Pe(s,t,e,u,o,n||Aa(s,e));return new kt(r,this._parents,t,e)}re.prototype.interrupt=ko;re.prototype.transition=Ma;const Qe=Math.PI,Je=2*Qe,It=1e-6,Sa=Je-It;function Fr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ea(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Fr;const n=10**e;return function(r){this._+=r[0];for(let i=1,l=r.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Na{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Fr:Ea(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,l,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+l},${this._y1=+o}`}arcTo(e,n,r,i,l){if(e=+e,n=+n,r=+r,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,a=this._y1,s=r-e,u=i-n,c=o-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>It)if(!(Math.abs(f*s-u*c)>It)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,y=i-a,_=s*s+u*u,g=d*d+y*y,m=Math.sqrt(_),p=Math.sqrt(h),b=l*Math.tan((Qe-Math.acos((_+h-g)/(2*m*p)))/2),C=b/p,S=b/m;Math.abs(C-1)>It&&this._append`L${e+C*c},${n+C*f}`,this._append`A${l},${l},0,0,${+(f*d>c*y)},${this._x1=e+S*s},${this._y1=n+S*u}`}}arc(e,n,r,i,l,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),s=r*Math.sin(i),u=e+a,c=n+s,f=1^o,h=o?i-l:l-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>It||Math.abs(this._y1-c)>It)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Je+Je),h>Sa?this._append`A${r},${r},0,1,${f},${e-a},${n-s}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>It&&this._append`A${r},${r},0,${+(h>=Qe)},${f},${this._x1=e+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Rn={},De={},He=34,Wt=10,Oe=13;function Dr(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Ta(t,e){var n=Dr(t);return function(r,i){return e(n(r),i,t)}}function Pn(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function ot(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ra(t){return t<0?"-"+ot(-t,6):t>9999?"+"+ot(t,6):ot(t,4)}function Pa(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ra(t.getUTCFullYear())+"-"+ot(t.getUTCMonth()+1,2)+"-"+ot(t.getUTCDate(),2)+(i?"T"+ot(e,2)+":"+ot(n,2)+":"+ot(r,2)+"."+ot(i,3)+"Z":r?"T"+ot(e,2)+":"+ot(n,2)+":"+ot(r,2)+"Z":n||e?"T"+ot(e,2)+":"+ot(n,2)+"Z":"")}function Ia(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,h){var d,y,_=i(f,function(g,m){if(d)return d(g,m-1);y=g,d=h?Ta(g,h):Dr(g)});return _.columns=y||[],_}function i(f,h){var d=[],y=f.length,_=0,g=0,m,p=y<=0,b=!1;f.charCodeAt(y-1)===Wt&&--y,f.charCodeAt(y-1)===Oe&&--y;function C(){if(p)return De;if(b)return b=!1,Rn;var Z,B=_,V;if(f.charCodeAt(B)===He){for(;_++<y&&f.charCodeAt(_)!==He||f.charCodeAt(++_)===He;);return(Z=_)>=y?p=!0:(V=f.charCodeAt(_++))===Wt?b=!0:V===Oe&&(b=!0,f.charCodeAt(_)===Wt&&++_),f.slice(B+1,Z-1).replace(/""/g,'"')}for(;_<y;){if((V=f.charCodeAt(Z=_++))===Wt)b=!0;else if(V===Oe)b=!0,f.charCodeAt(_)===Wt&&++_;else if(V!==n)continue;return f.slice(B,Z)}return p=!0,f.slice(B,y)}for(;(m=C())!==De;){for(var S=[];m!==Rn&&m!==De;)S.push(m),m=C();h&&(S=h(S,g++))==null||d.push(S)}return d}function l(f,h){return f.map(function(d){return h.map(function(y){return c(d[y])}).join(t)})}function o(f,h){return h==null&&(h=Pn(f)),[h.map(c).join(t)].concat(l(f,h)).join(`
`)}function a(f,h){return h==null&&(h=Pn(f)),l(f,h).join(`
`)}function s(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?Pa(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:s,formatRow:u,formatValue:c}}function La(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Fa(t,e){return fetch(t,e).then(La)}function Da(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Ia(t);return Fa(e,n).then(function(l){return i.parse(l,r)})}function Ha(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qt(t){return t=xe(Math.abs(t)),t?t[1]:NaN}function Oa(t,e){return function(n,r){for(var i=n.length,l=[],o=0,a=t[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),l.push(n.substring(i-=a,i+a)),!((s+=a+1)>r));)a=t[o=(o+1)%t.length];return l.reverse().join(e)}}function Va(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ba=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ke(t){if(!(e=Ba.exec(t)))throw new Error("invalid format: "+t);var e;return new hn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ke.prototype=hn.prototype;function hn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ya(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Hr;function Ua(t,e){var n=xe(t,e);if(!n)return t+"";var r=n[0],i=n[1],l=i-(Hr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return l===o?r:l>o?r+new Array(l-o+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+xe(t,Math.max(0,e+l-1))[0]}function In(t,e){var n=xe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ln={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ha,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>In(t*100,e),r:In,s:Ua,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fn(t){return t}var Dn=Array.prototype.map,Hn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function za(t){var e=t.grouping===void 0||t.thousands===void 0?Fn:Oa(Dn.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?Fn:Va(Dn.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ke(f);var h=f.fill,d=f.align,y=f.sign,_=f.symbol,g=f.zero,m=f.width,p=f.comma,b=f.precision,C=f.trim,S=f.type;S==="n"?(p=!0,S="g"):Ln[S]||(b===void 0&&(b=12),C=!0,S="g"),(g||h==="0"&&d==="=")&&(g=!0,h="0",d="=");var Z=_==="$"?n:_==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",B=_==="$"?r:/[%p]/.test(S)?o:"",V=Ln[S],X=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function z(E){var H=Z,k=B,U,ft,w;if(S==="c")k=V(E)+k,E="";else{E=+E;var P=E<0||1/E<0;if(E=isNaN(E)?s:V(Math.abs(E),b),C&&(E=Ya(E)),P&&+E==0&&y!=="+"&&(P=!1),H=(P?y==="("?y:a:y==="-"||y==="("?"":y)+H,k=(S==="s"?Hn[8+Hr/3]:"")+k+(P&&y==="("?")":""),X){for(U=-1,ft=E.length;++U<ft;)if(w=E.charCodeAt(U),48>w||w>57){k=(w===46?i+E.slice(U+1):E.slice(U))+k,E=E.slice(0,U);break}}}p&&!g&&(E=e(E,1/0));var T=H.length+E.length+k.length,D=T<m?new Array(m-T+1).join(h):"";switch(p&&g&&(E=e(D+E,D.length?m-k.length:1/0),D=""),d){case"<":E=H+E+k+D;break;case"=":E=H+D+E+k;break;case"^":E=D.slice(0,T=D.length>>1)+H+E+k+D.slice(T);break;default:E=D+H+E+k;break}return l(E)}return z.toString=function(){return f+""},z}function c(f,h){var d=u((f=ke(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(qt(h)/3)))*3,_=Math.pow(10,-y),g=Hn[8+y/3];return function(m){return d(_*m)+g}}return{format:u,formatPrefix:c}}var ue,Or,Vr;qa({thousands:",",grouping:[3],currency:["$",""]});function qa(t){return ue=za(t),Or=ue.format,Vr=ue.formatPrefix,ue}function Ga(t){return Math.max(0,-qt(Math.abs(t)))}function Xa(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qt(e)/3)))*3-qt(Math.abs(t)))}function Wa(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qt(e)-qt(t))+1}function Za(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ka(t){return function(){return t}}function Qa(t){return+t}var On=[0,1];function Bt(t){return t}function je(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ka(isNaN(e)?NaN:.5)}function Ja(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ja(t,e,n){var r=t[0],i=t[1],l=e[0],o=e[1];return i<r?(r=je(i,r),l=n(o,l)):(r=je(r,i),l=n(l,o)),function(a){return l(r(a))}}function $a(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),l=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=je(t[o],t[o+1]),l[o]=n(e[o],e[o+1]);return function(a){var s=Zr(t,a,1,r)-1;return l[s](i[s](a))}}function ts(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function es(){var t=On,e=On,n=sn,r,i,l,o=Bt,a,s,u;function c(){var h=Math.min(t.length,e.length);return o!==Bt&&(o=Ja(t[0],t[h-1])),a=h>2?$a:ja,s=u=null,f}function f(h){return h==null||isNaN(h=+h)?l:(s||(s=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=a(e,t.map(r),dt)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Qa),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=uo,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Bt,c()):o!==Bt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(l=h,f):l},function(h,d){return r=h,i=d,c()}}function ns(){return es()(Bt,Bt)}function rs(t,e,n,r){var i=ii(t,e,n),l;switch(r=ke(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(l=Xa(i,o))&&(r.precision=l),Vr(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=Wa(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=Ga(i))&&(r.precision=l-(r.type==="%")*2);break}}return Or(r)}function is(t){var e=t.domain;return t.ticks=function(n){var r=e();return ri(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return rs(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,l=r.length-1,o=r[i],a=r[l],s,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=l,l=u);c-- >0;){if(u=Ue(o,a,n),u===s)return r[i]=o,r[l]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;s=u}return t},t}function Br(){var t=ns();return t.copy=function(){return ts(t,Br())},Za.apply(t,arguments),is(t)}function Vt(t){return function(){return t}}function ls(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Na(e)}function os(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yr(t){this._context=t}Yr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function as(t){return new Yr(t)}function ss(t){return t[0]}function us(t){return t[1]}function fs(t,e){var n=Vt(!0),r=null,i=as,l=null,o=ls(a);t=typeof t=="function"?t:t===void 0?ss:Vt(t),e=typeof e=="function"?e:e===void 0?us:Vt(e);function a(s){var u,c=(s=os(s)).length,f,h=!1,d;for(r==null&&(l=i(d=o())),u=0;u<=c;++u)!(u<c&&n(f=s[u],u,s))===h&&((h=!h)?l.lineStart():l.lineEnd()),h&&l.point(+t(f,u,s),+e(f,u,s));if(d)return l=null,d+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Vt(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Vt(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(l=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=l=null:l=i(r=s),a):r},a}function Jt(t,e,n){this.k=t,this.x=e,this.y=n}Jt.prototype={constructor:Jt,scale:function(t){return t===1?this:new Jt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Jt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Jt.prototype;function K(t){return t*96/2.54}function Vn(t){return t*2.54/96}function Bn(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Yn(t){let e,n,r,i;return{c(){e=Tt("line"),this.h()},l(l){e=Nt(l,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),F(e).forEach(M),this.h()},h(){v(e,"x1",n=t[6](t[8])),v(e,"x2",r=t[6](t[8])),v(e,"y1",0),v(e,"y2",i=K(t[2])),v(e,"class","grid-line svelte-13hf2f3")},m(l,o){Q(l,e,o)},p(l,o){o&96&&n!==(n=l[6](l[8]))&&v(e,"x1",n),o&96&&r!==(r=l[6](l[8]))&&v(e,"x2",r),o&4&&i!==(i=K(l[2]))&&v(e,"y2",i)},d(l){l&&M(e)}}}function Un(t){let e=t[5].length<21||t[10]%Math.ceil(t[5].length/20)===0||t[10]===t[5].length-1,n,r=e&&Yn(t);return{c(){r&&r.c(),n=Rt()},l(i){r&&r.l(i),n=Rt()},m(i,l){r&&r.m(i,l),Q(i,n,l)},p(i,l){l&32&&(e=i[5].length<21||i[10]%Math.ceil(i[5].length/20)===0||i[10]===i[5].length-1),e?r?r.p(i,l):(r=Yn(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&M(n),r&&r.d(i)}}}function cs(t){let e,n,r,i,l,o,a,s,u,c,f,h,d,y,_,g=rt(t[5]),m=[];for(let p=0;p<g.length;p+=1)m[p]=Un(Bn(t,g,p));return{c(){e=L("div"),n=L("div"),r=L("span"),i=tt(t[0]),l=lt(),o=Tt("svg");for(let p=0;p<m.length;p+=1)m[p].c();a=Tt("line"),h=Tt("path"),this.h()},l(p){e=I(p,"DIV",{class:!0});var b=F(e);n=I(b,"DIV",{class:!0,style:!0});var C=F(n);r=I(C,"SPAN",{class:!0});var S=F(r);i=$(S,t[0]),S.forEach(M),C.forEach(M),l=it(b),o=Nt(b,"svg",{class:!0,width:!0,height:!0});var Z=F(o);for(let B=0;B<m.length;B+=1)m[B].l(Z);a=Nt(Z,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),F(a).forEach(M),h=Nt(Z,"path",{d:!0,class:!0}),F(h).forEach(M),Z.forEach(M),b.forEach(M),this.h()},h(){v(r,"class","svelte-13hf2f3"),v(n,"class","label svelte-13hf2f3"),Mt(n,"width",8.5+"cm"),v(a,"x1",s=K(t[4].left)),v(a,"x2",u=K(t[3])-K(t[4].right)),v(a,"y1",c=K(t[2])/2),v(a,"y2",f=K(t[2])/2),v(a,"class","baseline-line svelte-13hf2f3"),v(h,"d",t[1]),v(h,"class",d="path "+(t[7]?"selected":"")+" svelte-13hf2f3"),v(o,"class","row-svg svelte-13hf2f3"),v(o,"width",y=t[3]+"cm"),v(o,"height",_=t[2]+"cm"),v(e,"class","row svelte-13hf2f3")},m(p,b){Q(p,e,b),x(e,n),x(n,r),x(r,i),x(e,l),x(e,o);for(let C=0;C<m.length;C+=1)m[C]&&m[C].m(o,null);x(o,a),x(o,h)},p(p,[b]){if(b&1&&Se(i,p[0]),b&100){g=rt(p[5]);let C;for(C=0;C<g.length;C+=1){const S=Bn(p,g,C);m[C]?m[C].p(S,b):(m[C]=Un(S),m[C].c(),m[C].m(o,a))}for(;C<m.length;C+=1)m[C].d(1);m.length=g.length}b&16&&s!==(s=K(p[4].left))&&v(a,"x1",s),b&24&&u!==(u=K(p[3])-K(p[4].right))&&v(a,"x2",u),b&4&&c!==(c=K(p[2])/2)&&v(a,"y1",c),b&4&&f!==(f=K(p[2])/2)&&v(a,"y2",f),b&2&&v(h,"d",p[1]),b&128&&d!==(d="path "+(p[7]?"selected":"")+" svelte-13hf2f3")&&v(h,"class",d),b&8&&y!==(y=p[3]+"cm")&&v(o,"width",y),b&4&&_!==(_=p[2]+"cm")&&v(o,"height",_)},i:mt,o:mt,d(p){p&&M(e),Et(m,p)}}}function hs(t,e,n){let{label:r=""}=e,{path:i=""}=e,{rowHeightCm:l=1}=e,{graphWidthCm:o=21}=e,{margin:a={left:.3,right:.3,top:.1,bottom:.1}}=e,{allYears:s=[]}=e,{xScale:u}=e,{selected:c=!1}=e;return t.$$set=f=>{"label"in f&&n(0,r=f.label),"path"in f&&n(1,i=f.path),"rowHeightCm"in f&&n(2,l=f.rowHeightCm),"graphWidthCm"in f&&n(3,o=f.graphWidthCm),"margin"in f&&n(4,a=f.margin),"allYears"in f&&n(5,s=f.allYears),"xScale"in f&&n(6,u=f.xScale),"selected"in f&&n(7,c=f.selected)},[r,i,l,o,a,s,u,c]}class ds extends Ce{constructor(e){super(),Ae(this,e,hs,cs,Me,{label:0,path:1,rowHeightCm:2,graphWidthCm:3,margin:4,allYears:5,xScale:6,selected:7})}}function zn(t,e,n){const r=t.slice();return r[26]=e[n],r}function qn(t){let e,n=t[26].label+"",r,i;return{c(){e=L("option"),r=tt(n),this.h()},l(l){e=I(l,"OPTION",{});var o=F(e);r=$(o,n),o.forEach(M),this.h()},h(){e.__value=i=t[26].key,nt(e,e.__value)},m(l,o){Q(l,e,o),x(e,r)},p(l,o){o&64&&n!==(n=l[26].label+"")&&Se(r,n),o&64&&i!==(i=l[26].key)&&(e.__value=i,nt(e,e.__value))},d(l){l&&M(e)}}}function _s(t){let e,n,r,i,l,o,a,s,u,c,f,h,d,y,_,g,m,p,b,C,S,Z="linear",B,V="pow",X,z="symlog",E,H,k,U,ft,w,P="Download all rows as SVG",T,D,A=rt(t[6]),N=[];for(let W=0;W<A.length;W+=1)N[W]=qn(zn(t,A,W));return{c(){e=L("div"),n=L("label"),r=tt(`Parameter:
    `),i=L("select");for(let W=0;W<N.length;W+=1)N[W].c();l=lt(),o=L("label"),a=tt(`Amplitude (cm):
    `),s=L("input"),u=lt(),c=L("label"),f=tt(`Row height (cm):
    `),h=L("input"),d=lt(),y=L("label"),_=tt(`Graph width (cm):
    `),g=L("input"),m=lt(),p=L("label"),b=tt(`Scale:
    `),C=L("select"),S=L("option"),S.textContent=Z,B=L("option"),B.textContent=V,X=L("option"),X.textContent=z,E=lt(),H=L("label"),k=tt(`Scale param:
    `),U=L("input"),ft=lt(),w=L("button"),w.textContent=P,this.h()},l(W){e=I(W,"DIV",{class:!0});var O=F(e);n=I(O,"LABEL",{});var q=F(n);r=$(q,`Parameter:
    `),i=I(q,"SELECT",{});var Y=F(i);for(let At=0;At<N.length;At+=1)N[At].l(Y);Y.forEach(M),q.forEach(M),l=it(O),o=I(O,"LABEL",{});var R=F(o);a=$(R,`Amplitude (cm):
    `),s=I(R,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),R.forEach(M),u=it(O),c=I(O,"LABEL",{});var J=F(c);f=$(J,`Row height (cm):
    `),h=I(J,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),J.forEach(M),d=it(O),y=I(O,"LABEL",{});var j=F(y);_=$(j,`Graph width (cm):
    `),g=I(j,"INPUT",{type:!0,step:!0,min:!0,max:!0,class:!0}),j.forEach(M),m=it(O),p=I(O,"LABEL",{});var Ct=F(p);b=$(Ct,`Scale:
    `),C=I(Ct,"SELECT",{});var ct=F(C);S=I(ct,"OPTION",{"data-svelte-h":!0}),Zt(S)!=="svelte-66afcu"&&(S.textContent=Z),B=I(ct,"OPTION",{"data-svelte-h":!0}),Zt(B)!=="svelte-1sps5yu"&&(B.textContent=V),X=I(ct,"OPTION",{"data-svelte-h":!0}),Zt(X)!=="svelte-17zpvj2"&&(X.textContent=z),ct.forEach(M),Ct.forEach(M),E=it(O),H=I(O,"LABEL",{});var ht=F(H);k=$(ht,`Scale param:
    `),U=I(ht,"INPUT",{type:!0,step:!0,class:!0}),ht.forEach(M),ft=it(O),w=I(O,"BUTTON",{"data-svelte-h":!0}),Zt(w)!=="svelte-sguonc"&&(w.textContent=P),O.forEach(M),this.h()},h(){t[0]===void 0&&jt(()=>t[14].call(i)),v(s,"type","number"),v(s,"step","0.1"),v(s,"min","0.1"),v(s,"max","12"),v(s,"class","svelte-lufcjj"),v(h,"type","number"),v(h,"step","0.1"),v(h,"min","0.2"),v(h,"max","6"),v(h,"class","svelte-lufcjj"),v(g,"type","number"),v(g,"step","0.1"),v(g,"min","5"),v(g,"max","60"),v(g,"class","svelte-lufcjj"),S.__value="linear",nt(S,S.__value),B.__value="pow",nt(B,B.__value),X.__value="symlog",nt(X,X.__value),t[4]===void 0&&jt(()=>t[22].call(C)),v(U,"type","number"),v(U,"step","1"),v(U,"class","svelte-lufcjj"),v(e,"class","controls svelte-lufcjj")},m(W,O){Q(W,e,O),x(e,n),x(n,r),x(n,i);for(let q=0;q<N.length;q+=1)N[q]&&N[q].m(i,null);yt(i,t[0],!0),x(e,l),x(e,o),x(o,a),x(o,s),nt(s,t[3]),x(e,u),x(e,c),x(c,f),x(c,h),nt(h,t[1]),x(e,d),x(e,y),x(y,_),x(y,g),nt(g,t[2]),x(e,m),x(e,p),x(p,b),x(p,C),x(C,S),x(C,B),x(C,X),yt(C,t[4],!0),x(e,E),x(e,H),x(H,k),x(H,U),nt(U,t[5]),x(e,ft),x(e,w),T||(D=[et(i,"change",t[14]),et(i,"change",t[15]),et(s,"input",t[16]),et(s,"input",t[17]),et(h,"input",t[18]),et(h,"input",t[19]),et(g,"input",t[20]),et(g,"input",t[21]),et(C,"change",t[22]),et(C,"change",t[23]),et(U,"input",t[24]),et(U,"input",t[25]),et(w,"click",function(){Ur(t[13])&&t[13].apply(this,arguments)})],T=!0)},p(W,[O]){if(t=W,O&64){A=rt(t[6]);let q;for(q=0;q<A.length;q+=1){const Y=zn(t,A,q);N[q]?N[q].p(Y,O):(N[q]=qn(Y),N[q].c(),N[q].m(i,null))}for(;q<N.length;q+=1)N[q].d(1);N.length=A.length}O&65&&yt(i,t[0]),O&8&&St(s.value)!==t[3]&&nt(s,t[3]),O&2&&St(h.value)!==t[1]&&nt(h,t[1]),O&4&&St(g.value)!==t[2]&&nt(g,t[2]),O&16&&yt(C,t[4]),O&32&&St(U.value)!==t[5]&&nt(U,t[5])},i:mt,o:mt,d(W){W&&M(e),Et(N,W),T=!1,or(D)}}}function ms(t,e,n){let{valueFields:r=[]}=e,{selectedField:i}=e,{setSelectedField:l}=e,{rowHeightCm:o}=e,{setRowHeightCm:a}=e,{graphWidthCm:s}=e,{setGraphWidthCm:u}=e,{amplitudeCm:c}=e,{setAmplitudeCm:f}=e,{scaleType:h}=e,{setScaleType:d}=e,{scaleParam:y}=e,{setScaleParam:_}=e,{onDownloadAll:g}=e;function m(){i=$t(this),n(0,i),n(6,r)}const p=k=>l(k.target.value);function b(){c=St(this.value),n(3,c)}const C=k=>f(+k.target.value);function S(){o=St(this.value),n(1,o)}const Z=k=>a(+k.target.value);function B(){s=St(this.value),n(2,s)}const V=k=>u(+k.target.value);function X(){h=$t(this),n(4,h)}const z=k=>d(k.target.value);function E(){y=St(this.value),n(5,y)}const H=k=>_(+k.target.value);return t.$$set=k=>{"valueFields"in k&&n(6,r=k.valueFields),"selectedField"in k&&n(0,i=k.selectedField),"setSelectedField"in k&&n(7,l=k.setSelectedField),"rowHeightCm"in k&&n(1,o=k.rowHeightCm),"setRowHeightCm"in k&&n(8,a=k.setRowHeightCm),"graphWidthCm"in k&&n(2,s=k.graphWidthCm),"setGraphWidthCm"in k&&n(9,u=k.setGraphWidthCm),"amplitudeCm"in k&&n(3,c=k.amplitudeCm),"setAmplitudeCm"in k&&n(10,f=k.setAmplitudeCm),"scaleType"in k&&n(4,h=k.scaleType),"setScaleType"in k&&n(11,d=k.setScaleType),"scaleParam"in k&&n(5,y=k.scaleParam),"setScaleParam"in k&&n(12,_=k.setScaleParam),"onDownloadAll"in k&&n(13,g=k.onDownloadAll)},[i,o,s,c,h,y,r,l,a,u,f,d,_,g,m,p,b,C,S,Z,B,V,X,z,E,H]}class gs extends Ce{constructor(e){super(),Ae(this,e,ms,_s,Me,{valueFields:6,selectedField:0,setSelectedField:7,rowHeightCm:1,setRowHeightCm:8,graphWidthCm:2,setGraphWidthCm:9,amplitudeCm:3,setAmplitudeCm:10,scaleType:4,setScaleType:11,scaleParam:5,setScaleParam:12,onDownloadAll:13})}}function ps(t,e="linear",n=1){const r=Math.max(1e-9,t),i=Math.max(1e-9,+n||1);if(e==="linear")return l=>Ve(l/r,-1,1);if(e==="symlog"){const l=Math.asinh(r/i);return o=>Ve(Math.asinh(o/i)/l,-1,1)}if(e==="pow"){const l=1/i;return o=>{const a=Math.sign(o),s=Math.min(1,Math.abs(o)/r);return a*Math.pow(s,l)}}return l=>Ve(l/r,-1,1)}function Ve(t,e,n){return Math.max(e,Math.min(n,t))}function vs(t,e){const n=t.getBBox(),r=t.getBoundingClientRect(),i=r.width,l=r.height,o=2,a=Math.max(0,-n.y)+o,s=Math.max(0,n.y+n.height-l)+o,u=l+a+s,c=t.cloneNode(!0),f=document.createElement("style");f.textContent=`
    .path{fill:none;stroke:#111;stroke-width:2;opacity:.95}
    .grid-line,.tick-line{display:none}
    .baseline-line{stroke:#ddd;stroke-width:1}
  `,c.insertBefore(f,c.firstChild),c.setAttribute("viewBox",`0 ${-a} ${i} ${u}`),c.setAttribute("width",`${Vn(i)}cm`),c.setAttribute("height",`${Vn(u)}cm`);let d=new XMLSerializer().serializeToString(c);d=d.replace(/(<svg[^>]+)style="[^"]*background[^"]*"([^>]*>)/gi,"$1$2"),d=d.replace(/background:[^;"]*;?/gi,""),d=`<?xml version="1.0" encoding="UTF-8"?>
`+d;const y=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(y),g=document.createElement("a");g.href=_,g.download=e,document.body.appendChild(g),g.click(),setTimeout(()=>{document.body.removeChild(g),URL.revokeObjectURL(_)},150)}async function ys(){var e;const t=Array.from(document.querySelectorAll("svg.row-svg"));for(let n=0;n<t.length;n++){const r=t[n],i=(e=r.closest(".row"))==null?void 0:e.querySelector(".label button, .label span"),l=((i==null?void 0:i.textContent)||`chart_${n+1}`).trim().toLowerCase().replace(/[^a-z0-9_\-]+/g,"_");vs(r,`${l}.svg`),await new Promise(o=>setTimeout(o,160))}}function Gn(t,e,n){const r=t.slice();return r[32]=e[n],r}function Xn(t,e,n){const r=t.slice();return r[35]=e[n],r}function Wn(t,e,n){const r=t.slice();return r[38]=e[n],r[40]=n,r}function Zn(t,e,n){const r=t.slice();return r[41]=e[n],r}function Kn(t,e,n){const r=t.slice();return r[41]=e[n],r}function Qn(t,e,n){const r=t.slice();return r[46]=e[n],r}function Jn(t){let e,n=t[46].label+"",r;return{c(){e=L("option"),r=tt(n),this.h()},l(i){e=I(i,"OPTION",{class:!0});var l=F(e);r=$(l,n),l.forEach(M),this.h()},h(){e.__value=t[46].key,nt(e,e.__value),v(e,"class","svelte-1m5s89h")},m(i,l){Q(i,e,l),x(e,r)},p:mt,d(i){i&&M(e)}}}function jn(t){let e,n=t[41].label+"",r;return{c(){e=L("option"),r=tt(n),this.h()},l(i){e=I(i,"OPTION",{class:!0});var l=F(e);r=$(l,n),l.forEach(M),this.h()},h(){e.__value=t[41].key,nt(e,e.__value),v(e,"class","svelte-1m5s89h")},m(i,l){Q(i,e,l),x(e,r)},p:mt,d(i){i&&M(e)}}}function $n(t){let e,n=t[41].label+"",r;return{c(){e=L("option"),r=tt(n),this.h()},l(i){e=I(i,"OPTION",{class:!0});var l=F(e);r=$(l,n),l.forEach(M),this.h()},h(){e.__value=t[41].key,nt(e,e.__value),v(e,"class","svelte-1m5s89h")},m(i,l){Q(i,e,l),x(e,r)},p:mt,d(i){i&&M(e)}}}function ws(t){let e,n="Loading data...";return{c(){e=L("p"),e.textContent=n,this.h()},l(r){e=I(r,"P",{class:!0,"data-svelte-h":!0}),Zt(e)!=="svelte-slw5li"&&(e.textContent=n),this.h()},h(){v(e,"class","svelte-1m5s89h")},m(r,i){Q(r,e,i)},p:mt,i:mt,o:mt,d(r){r&&M(e)}}}function bs(t){let e,n,r,i,l,o,a,s,u,c=rt(t[9]),f=[];for(let _=0;_<c.length;_+=1)f[_]=er(Wn(t,c,_));let h=rt(t[11]),d=[];for(let _=0;_<h.length;_+=1)d[_]=ir(Gn(t,h,_));const y=_=>gt(d[_],1,1,()=>{d[_]=null});return{c(){e=L("div"),n=L("div"),r=tt(" "),i=lt(),l=Tt("svg");for(let _=0;_<f.length;_+=1)f[_].c();a=lt();for(let _=0;_<d.length;_+=1)d[_].c();s=Rt(),this.h()},l(_){e=I(_,"DIV",{class:!0});var g=F(e);n=I(g,"DIV",{class:!0,style:!0});var m=F(n);r=$(m," "),m.forEach(M),i=it(g),l=Nt(g,"svg",{class:!0,width:!0,height:!0});var p=F(l);for(let b=0;b<f.length;b+=1)f[b].l(p);p.forEach(M),g.forEach(M),a=it(_);for(let b=0;b<d.length;b+=1)d[b].l(_);s=Rt(),this.h()},h(){v(n,"class","label svelte-1m5s89h"),Mt(n,"width",ks+"cm"),v(l,"class","ticks-svg svelte-1m5s89h"),v(l,"width",o=t[0]+"cm"),v(l,"height","1cm"),v(e,"class","header-row svelte-1m5s89h")},m(_,g){Q(_,e,g),x(e,n),x(n,r),x(e,i),x(e,l);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(l,null);Q(_,a,g);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(_,g);Q(_,s,g),u=!0},p(_,g){if(g[0]&1538){c=rt(_[9]);let m;for(m=0;m<c.length;m+=1){const p=Wn(_,c,m);f[m]?f[m].p(p,g):(f[m]=er(p),f[m].c(),f[m].m(l,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}if((!u||g[0]&1&&o!==(o=_[0]+"cm"))&&v(l,"width",o),g[0]&400899){h=rt(_[11]);let m;for(m=0;m<h.length;m+=1){const p=Gn(_,h,m);d[m]?(d[m].p(p,g),st(d[m],1)):(d[m]=ir(p),d[m].c(),st(d[m],1),d[m].m(s.parentNode,s))}for(Ee(),m=h.length;m<d.length;m+=1)y(m);Ne()}},i(_){if(!u){for(let g=0;g<h.length;g+=1)st(d[g]);u=!0}},o(_){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)gt(d[g]);u=!1},d(_){_&&(M(e),M(a),M(s)),Et(f,_),Et(d,_)}}}function tr(t){let e,n,r,i,l,o,a=t[38]+"",s,u;return{c(){e=Tt("g"),n=Tt("line"),o=Tt("text"),s=tt(a),this.h()},l(c){e=Nt(c,"g",{class:!0});var f=F(e);n=Nt(f,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),F(n).forEach(M),o=Nt(f,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var h=F(o);s=$(h,a),h.forEach(M),f.forEach(M),this.h()},h(){v(n,"x1",r=t[10](t[38])),v(n,"x2",i=t[10](t[38])),v(n,"y1",0),v(n,"y2",l=K(t[1])),v(n,"class","tick-line svelte-1m5s89h"),v(o,"x",u=t[10](t[38])),v(o,"y",13),v(o,"text-anchor","middle"),v(o,"class","tick-label svelte-1m5s89h"),v(e,"class","svelte-1m5s89h")},m(c,f){Q(c,e,f),x(e,n),x(e,o),x(o,s)},p(c,f){f[0]&1536&&r!==(r=c[10](c[38]))&&v(n,"x1",r),f[0]&1536&&i!==(i=c[10](c[38]))&&v(n,"x2",i),f[0]&2&&l!==(l=K(c[1]))&&v(n,"y2",l),f[0]&512&&a!==(a=c[38]+"")&&Se(s,a),f[0]&1536&&u!==(u=c[10](c[38]))&&v(o,"x",u)},d(c){c&&M(e)}}}function er(t){let e=t[9].length<21||t[40]%Math.ceil(t[9].length/20)===0||t[40]===t[9].length-1,n,r=e&&tr(t);return{c(){r&&r.c(),n=Rt()},l(i){r&&r.l(i),n=Rt()},m(i,l){r&&r.m(i,l),Q(i,n,l)},p(i,l){l[0]&512&&(e=i[9].length<21||i[40]%Math.ceil(i[9].length/20)===0||i[40]===i[9].length-1),e?r?r.p(i,l):(r=tr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&M(n),r&&r.d(i)}}}function nr(t){let e,n,r=rt(t[32].items),i=[];for(let o=0;o<r.length;o+=1)i[o]=rr(Xn(t,r,o));const l=o=>gt(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Rt()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=Rt()},m(o,a){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,a);Q(o,e,a),n=!0},p(o,a){if(a[0]&138755){r=rt(o[32].items);let s;for(s=0;s<r.length;s+=1){const u=Xn(o,r,s);i[s]?(i[s].p(u,a),st(i[s],1)):(i[s]=rr(u),i[s].c(),st(i[s],1),i[s].m(e.parentNode,e))}for(Ee(),s=r.length;s<i.length;s+=1)l(s);Ne()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)st(i[a]);n=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)gt(i[a]);n=!1},d(o){o&&M(e),Et(i,o)}}}function rr(t){let e,n;return e=new ds({props:{label:t[35].label,path:t[35].path,rowHeightCm:t[1],graphWidthCm:t[0],margin:t[12],allYears:t[9],xScale:t[10],selected:t[17].has(t[35].label)}}),{c(){nn(e.$$.fragment)},l(r){en(e.$$.fragment,r)},m(r,i){tn(e,r,i),n=!0},p(r,i){const l={};i[0]&2048&&(l.label=r[35].label),i[0]&2048&&(l.path=r[35].path),i[0]&2&&(l.rowHeightCm=r[1]),i[0]&1&&(l.graphWidthCm=r[0]),i[0]&512&&(l.allYears=r[9]),i[0]&1024&&(l.xScale=r[10]),i[0]&2048&&(l.selected=r[17].has(r[35].label)),e.$set(l)},i(r){n||(st(e.$$.fragment,r),n=!0)},o(r){gt(e.$$.fragment,r),n=!1},d(r){$e(e,r)}}}function ir(t){let e,n,r,i=(t[32].key||"Unassigned")+"",l,o,a=!t[18].has(t[32].key),s,u,c=a&&nr(t);return{c(){e=L("div"),n=L("div"),r=L("div"),l=tt(i),o=lt(),c&&c.c(),s=lt(),this.h()},l(f){e=I(f,"DIV",{class:!0});var h=F(e);n=I(h,"DIV",{class:!0,style:!0});var d=F(n);r=I(d,"DIV",{class:!0});var y=F(r);l=$(y,i),y.forEach(M),d.forEach(M),o=it(h),c&&c.l(h),s=it(h),h.forEach(M),this.h()},h(){v(r,"class","group-title svelte-1m5s89h"),v(n,"class","group-header svelte-1m5s89h"),Mt(n,"height",t[1]+"cm"),v(e,"class","group svelte-1m5s89h")},m(f,h){Q(f,e,h),x(e,n),x(n,r),x(r,l),x(e,o),c&&c.m(e,null),x(e,s),u=!0},p(f,h){(!u||h[0]&2048)&&i!==(i=(f[32].key||"Unassigned")+"")&&Se(l,i),(!u||h[0]&2)&&Mt(n,"height",f[1]+"cm"),h[0]&2048&&(a=!f[18].has(f[32].key)),a?c?(c.p(f,h),h[0]&2048&&st(c,1)):(c=nr(f),c.c(),st(c,1),c.m(e,s)):c&&(Ee(),gt(c,1,1,()=>{c=null}),Ne())},i(f){u||(st(c),u=!0)},o(f){gt(c),u=!1},d(f){f&&M(e),c&&c.d()}}}function xs(t){let e,n,r,i,l,o,a,s,u,c,f,h,d,y,_,g,m,p,b,C,S,Z;n=new gs({props:{valueFields:t[13],selectedField:t[5],rowHeightCm:t[1],graphWidthCm:t[0],amplitudeCm:t[2],scaleType:t[3],scaleParam:t[4],onDownloadAll:t[25],setSelectedField:t[19],setRowHeightCm:t[20],setGraphWidthCm:t[21],setAmplitudeCm:t[22],setScaleType:t[23],setScaleParam:t[24]}});let B=rt(t[14]),V=[];for(let w=0;w<B.length;w+=1)V[w]=Jn(Qn(t,B,w));let X=rt(t[15]),z=[];for(let w=0;w<X.length;w+=1)z[w]=jn(Kn(t,X,w));let E=rt(t[16]),H=[];for(let w=0;w<E.length;w+=1)H[w]=$n(Zn(t,E,w));const k=[bs,ws],U=[];function ft(w,P){return w[11].length>0?0:1}return p=ft(t),b=U[p]=k[p](t),{c(){e=L("div"),nn(n.$$.fragment),r=lt(),i=L("div"),l=L("label"),o=tt(`Group by:
      `),a=L("select");for(let w=0;w<V.length;w+=1)V[w].c();s=lt(),u=L("label"),c=tt(`Group sort:
      `),f=L("select");for(let w=0;w<z.length;w+=1)z[w].c();h=lt(),d=L("label"),y=tt(`Item sort:
      `),_=L("select");for(let w=0;w<H.length;w+=1)H[w].c();g=lt(),m=L("article"),b.c(),this.h()},l(w){e=I(w,"DIV",{class:!0});var P=F(e);en(n.$$.fragment,P),r=it(P),i=I(P,"DIV",{class:!0});var T=F(i);l=I(T,"LABEL",{class:!0});var D=F(l);o=$(D,`Group by:
      `),a=I(D,"SELECT",{class:!0});var A=F(a);for(let R=0;R<V.length;R+=1)V[R].l(A);A.forEach(M),D.forEach(M),s=it(T),u=I(T,"LABEL",{class:!0});var N=F(u);c=$(N,`Group sort:
      `),f=I(N,"SELECT",{class:!0});var W=F(f);for(let R=0;R<z.length;R+=1)z[R].l(W);W.forEach(M),N.forEach(M),h=it(T),d=I(T,"LABEL",{class:!0});var O=F(d);y=$(O,`Item sort:
      `),_=I(O,"SELECT",{class:!0});var q=F(_);for(let R=0;R<H.length;R+=1)H[R].l(q);q.forEach(M),O.forEach(M),T.forEach(M),P.forEach(M),g=it(w),m=I(w,"ARTICLE",{id:!0,style:!0,class:!0});var Y=F(m);b.l(Y),Y.forEach(M),this.h()},h(){v(a,"class","svelte-1m5s89h"),t[6]===void 0&&jt(()=>t[26].call(a)),v(l,"class","svelte-1m5s89h"),v(f,"class","svelte-1m5s89h"),t[7]===void 0&&jt(()=>t[27].call(f)),v(u,"class","svelte-1m5s89h"),v(_,"class","svelte-1m5s89h"),t[8]===void 0&&jt(()=>t[28].call(_)),v(d,"class","svelte-1m5s89h"),v(i,"class","controls svelte-1m5s89h"),v(e,"class","menu no-print svelte-1m5s89h"),v(m,"id","chart"),Mt(m,"padding-top",t[2]/2+"cm"),Mt(m,"padding-bottom",t[2]/2+"cm"),v(m,"class","svelte-1m5s89h")},m(w,P){Q(w,e,P),tn(n,e,null),x(e,r),x(e,i),x(i,l),x(l,o),x(l,a);for(let T=0;T<V.length;T+=1)V[T]&&V[T].m(a,null);yt(a,t[6],!0),x(i,s),x(i,u),x(u,c),x(u,f);for(let T=0;T<z.length;T+=1)z[T]&&z[T].m(f,null);yt(f,t[7],!0),x(i,h),x(i,d),x(d,y),x(d,_);for(let T=0;T<H.length;T+=1)H[T]&&H[T].m(_,null);yt(_,t[8],!0),Q(w,g,P),Q(w,m,P),U[p].m(m,null),C=!0,S||(Z=[et(a,"change",t[26]),et(f,"change",t[27]),et(_,"change",t[28])],S=!0)},p(w,P){const T={};if(P[0]&32&&(T.selectedField=w[5]),P[0]&2&&(T.rowHeightCm=w[1]),P[0]&1&&(T.graphWidthCm=w[0]),P[0]&4&&(T.amplitudeCm=w[2]),P[0]&8&&(T.scaleType=w[3]),P[0]&16&&(T.scaleParam=w[4]),n.$set(T),P[0]&16384){B=rt(w[14]);let A;for(A=0;A<B.length;A+=1){const N=Qn(w,B,A);V[A]?V[A].p(N,P):(V[A]=Jn(N),V[A].c(),V[A].m(a,null))}for(;A<V.length;A+=1)V[A].d(1);V.length=B.length}if(P[0]&16448&&yt(a,w[6]),P[0]&32768){X=rt(w[15]);let A;for(A=0;A<X.length;A+=1){const N=Kn(w,X,A);z[A]?z[A].p(N,P):(z[A]=jn(N),z[A].c(),z[A].m(f,null))}for(;A<z.length;A+=1)z[A].d(1);z.length=X.length}if(P[0]&32896&&yt(f,w[7]),P[0]&65536){E=rt(w[16]);let A;for(A=0;A<E.length;A+=1){const N=Zn(w,E,A);H[A]?H[A].p(N,P):(H[A]=$n(N),H[A].c(),H[A].m(_,null))}for(;A<H.length;A+=1)H[A].d(1);H.length=E.length}P[0]&65792&&yt(_,w[8]);let D=p;p=ft(w),p===D?U[p].p(w,P):(Ee(),gt(U[D],1,1,()=>{U[D]=null}),Ne(),b=U[p],b?b.p(w,P):(b=U[p]=k[p](w),b.c()),st(b,1),b.m(m,null)),(!C||P[0]&4)&&Mt(m,"padding-top",w[2]/2+"cm"),(!C||P[0]&4)&&Mt(m,"padding-bottom",w[2]/2+"cm")},i(w){C||(st(n.$$.fragment,w),st(b),C=!0)},o(w){gt(n.$$.fragment,w),gt(b),C=!1},d(w){w&&(M(e),M(g),M(m)),$e(n),Et(V,w),Et(z,w),Et(H,w),U[p].d(),S=!1,or(Z)}}}let ks=8.5;function lr(t){if(t==null)return 0;const e=String(t).trim().replace(/\s/g,"");if(/,/.test(e)&&/\./.test(e)&&e.lastIndexOf(",")>e.lastIndexOf("."))return parseFloat(e.replace(/\./g,"").replace(",","."));const n=e.replace(new RegExp("(?<=\\d)[.,](?=\\d{3}(\\D|$))","g"),"");return parseFloat(n.replace(",","."))}function fe(t,e){for(const n of e)if(t[n]!=null)return t[n];return 0}function Be(t,e){return e==="export"?lr(fe(t,["Export (Real Value USD)","Export  (Real Value USD)"])):e==="import"?lr(fe(t,["Import (Real Value USD)","Import  (Real Value USD)"])):e==="normPCI"?parseFloat(String(fe(t,["Norm PCI"])).replace(",","."))||0:e==="normRCA"&&parseFloat(String(fe(t,["Norm RCA"])).replace(",","."))||0}function Cs(t,e,n){let r=21,i=1,l=6,o={left:.3,right:.3,top:.1,bottom:.1},a="symlog",s=Math.pow(2,29);const u=[{key:"tradeBalanceDiff",label:"Trade balance"},{key:"export",label:"Export (Real Value USD)"},{key:"normPCI",label:"Norm PCI"},{key:"normRCA",label:"Norm RCA"}];let c=u[0].key;const f=[{key:"Chemical Vertical",label:"Chemical Vertical"},{key:"Nace-2 Label",label:"NACE-2"},{key:"NACE-4 Labels",label:"NACE-4"},{key:"HS92-2 Short Label",label:"HS92-2"},{key:"HS92-4 Short Label",label:"HS92-4"}];let h=f[0].key;const d=[{key:"az",label:"Groups A–Z"},{key:"valueDesc",label:"Groups by intensity ↓"},{key:"valueAsc",label:"Groups by intensity ↑"}];let y=d[0].key;const _=[{key:"az",label:"Items A–Z"},{key:"valueDesc",label:"Items by intensity ↓"},{key:"valueAsc",label:"Items by intensity ↑"}];let g=_[0].key,m=[],p=[],b,C=[],S=[],Z=new Set,B=new Set;function V(){var q;if(!m.length||!p.length||!b){C=[],n(11,S=[]);return}const D=mn(m,Y=>String(Y["HS92-4 Short Label"]??"").trim()).sort(([Y],[R])=>ut(Y,R)),A=[];let N=0;for(const[Y,R]of D){const J=((q=R[0])==null?void 0:q[h])??"",j=Ie(R,G=>Gt(G,Ot=>Be(Ot,"export")),G=>G.Year),Ct=Ie(R,G=>Gt(G,Ot=>Be(Ot,"import")),G=>G.Year),ct=Ie(R,G=>Gt(G,Ot=>Be(Ot,c)),G=>G.Year);let ht;c==="tradeBalanceDiff"?ht=p.find(G=>(j.get(G)??0)!==0||(Ct.get(G)??0)!==0)??p[0]:ht=p.find(G=>(ct.get(G)??0)!==0)??p[0];const At=c==="tradeBalanceDiff"?(j.get(ht)??0)-(Ct.get(ht)??0):ct.get(ht)??0,le=p.map(G=>{const dn=(c==="tradeBalanceDiff"?(j.get(G)??0)-(Ct.get(G)??0):ct.get(G)??0)-At;return N=Math.max(N,Math.abs(dn)),{year:G,value:dn}}),Pt=Gt(le,G=>Math.abs(G.value));A.push({label:Y,group:J,valuesAligned:le,intensity:Pt})}(!Number.isFinite(N)||N===0)&&(N=1e-9);const W=K(l);C=A.map(({label:Y,group:R,valuesAligned:J,intensity:j})=>{const ct=K(i)/2,ht=ps(N,a,s),At=Pt=>ct-ht(Pt)*W,le=fs().x(Pt=>b(Pt.year)).y(Pt=>At(Pt.value))(J);return{label:Y,group:R,values:J,path:le,y:{domain:()=>[-N,N],baselineY:ct,toY:At,scaleType:a,scaleParam:s,_:"pulsar"},total:j}});let O=mn(C,Y=>Y.group).map(([Y,R])=>({key:Y,items:R,total:Gt(R,J=>J.total)}));y==="az"?O.sort((Y,R)=>ut(Y.key||"",R.key||"")):y==="valueDesc"?O.sort((Y,R)=>Ye(Y.total,R.total)||ut(Y.key||"",R.key||"")):y==="valueAsc"&&O.sort((Y,R)=>ut(Y.total,R.total)||ut(Y.key||"",R.key||"")),O=O.map(Y=>{let R=Y.items.slice();return g==="az"?R.sort((J,j)=>ut(J.label,j.label)):g==="valueDesc"?R.sort((J,j)=>Ye(J.total,j.total)||ut(J.label,j.label)):g==="valueAsc"&&R.sort((J,j)=>ut(J.total,j.total)||ut(J.label,j.label)),{...Y,items:R}}),n(11,S=O)}zr(async()=>{const D=await Da(";","data/data.csv",A=>({...A,Year:+A.Year}));m=D,n(9,p=Array.from(new Set(D.map(A=>A.Year))).sort((A,N)=>A-N))});const X=D=>n(5,c=D),z=D=>n(1,i=D),E=D=>n(0,r=D),H=D=>n(2,l=D),k=D=>n(3,a=D),U=D=>n(4,s=D),ft=()=>ys();function w(){h=$t(this),n(6,h),n(14,f)}function P(){y=$t(this),n(7,y),n(15,d)}function T(){g=$t(this),n(8,g),n(16,_)}return t.$$.update=()=>{t.$$.dirty[0]&1023&&(p.length&&n(10,b=Br().domain(Kr(p)).range([K(o.left),K(r)-K(o.right)])),V())},[r,i,l,a,s,c,h,y,g,p,b,S,o,u,f,d,_,Z,B,X,z,E,H,k,U,ft,w,P,T]}class As extends Ce{constructor(e){super(),Ae(this,e,Cs,xs,Me,{},null,[-1,-1])}}function Ms(t){let e,n;return e=new As({}),{c(){nn(e.$$.fragment)},l(r){en(e.$$.fragment,r)},m(r,i){tn(e,r,i),n=!0},p:mt,i(r){n||(st(e.$$.fragment,r),n=!0)},o(r){gt(e.$$.fragment,r),n=!1},d(r){$e(e,r)}}}class Ts extends Ce{constructor(e){super(),Ae(this,e,null,Ms,Me,{})}}export{Ts as component,Ns as universal};
